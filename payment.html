<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blackline Intelligence | Secure Checkout</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Lexend+Deca:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="icon" type="image/png" href="https://i.postimg.cc/K88PbVBs/image.png">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

    <style>
        :root {
            --bg-dark: #0a0a0b;
            --bg-card: #141417;
            --accent-blue: #2563eb;
            --accent-hover: #1d4ed8;
            --text-main: #e2e8f0;
            --text-dim: #94a3b8;
            --border-color: #27272a;
            --success: #10b981;
        }

        /* Language Switching Logic */
        .lang-ms { display: none; }
        body.ms-active .lang-en { display: none; }
        body.ms-active .lang-ms { display: block; }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', sans-serif; background-color: var(--bg-dark); color: var(--text-main); line-height: 1.6; }

        nav {
            padding: 20px 5%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(10, 10, 11, 0.95);
            border-bottom: 1px solid var(--border-color);
            position: sticky; top: 0; z-index: 1000;
            width: 100%;
        }

        .logo { font-family: 'Lexend Deca', sans-serif; font-size: 1.2rem; color: #fff; text-decoration: none; }
        .logo span { color: var(--accent-blue); }
        .nav-links { display: flex; align-items: center; gap: 15px; }
        .nav-links a { color: var(--text-dim); text-decoration: none; margin-left: 20px; font-size: 0.8rem; font-weight: 600; text-transform: uppercase; transition: 0.3s; }
        .nav-links a:hover { color: var(--accent-blue); }
        .lang-switch { background: var(--accent-blue); color: white; border: none; padding: 5px 12px; cursor: pointer; font-size: 0.8rem; border-radius: 4px; margin-left: 20px; font-weight: 600; }

        main { padding: 40px 5%; max-width: 1200px; margin: 0 auto; min-height: 80vh; }
        .gateway-header { text-align: center; margin-bottom: 40px; }
        .gateway-header h1 { font-family: 'Lexend Deca'; font-size: 2.2rem; margin-bottom: 10px; color: #fff; }
        
        .main-content { display: grid; grid-template-columns: 1.2fr 0.8fr; gap: 30px; }
        .services-list { background: var(--bg-card); padding: 25px; border-radius: 12px; border: 1px solid var(--border-color); max-height: 800px; overflow-y: auto; transition: 0.5s; }

        /* Lock Mechanism Style */
        .services-list.locked {
            pointer-events: none;
            opacity: 0.5;
            filter: grayscale(0.5);
            cursor: not-allowed;
        }

        .service-card { display: flex; gap: 15px; border: 1px solid var(--border-color); border-radius: 10px; padding: 15px; margin-bottom: 12px; cursor: pointer; transition: 0.3s; background: rgba(255,255,255,0.02); }
        .service-card:hover { border-color: var(--accent-blue); }
        .service-card.selected { border-color: var(--accent-blue); background: rgba(37, 99, 235, 0.08); }

        .checkbox-box { width: 22px; height: 22px; border: 2px solid var(--border-color); border-radius: 6px; display: flex; align-items: center; justify-content: center; flex-shrink: 0; }
        .selected .checkbox-box { background: var(--accent-blue); border-color: var(--accent-blue); }
        .selected .checkbox-box::after { content: '‚úì'; color: white; font-weight: bold; font-size: 14px; }

        .service-info h3 { font-size: 1rem; color: #fff; margin-bottom: 4px; }
        .service-info p { font-size: 0.85rem; color: var(--text-dim); }
        .price-badge { font-weight: bold; color: var(--accent-blue); display: block; margin-top: 5px; font-size: 0.9rem; }

        .payment-panel { padding: 25px; background: var(--bg-card); border-radius: 12px; border: 1px solid var(--border-color); position: sticky; top: 100px; height: fit-content; }
        .summary-box { margin-bottom: 25px; }
        .summary-title { font-weight: 700; margin-bottom: 15px; text-transform: uppercase; font-size: 0.85rem; color: var(--text-dim); border-bottom: 1px solid var(--border-color); padding-bottom: 10px; }
        .summary-row { display: flex; justify-content: space-between; font-size: 0.9rem; margin-bottom: 8px; color: var(--text-main); }
        .total-row { border-top: 1px solid var(--border-color); margin-top: 15px; padding-top: 15px; font-weight: 800; font-size: 1.1rem; color: #fff; }

        .form-group { margin-bottom: 15px; }
        label { font-size: 0.7rem; font-weight: 700; display: block; margin-bottom: 5px; color: var(--text-dim); text-transform: uppercase; }
        input, select { width: 100%; padding: 12px; background: #000; border: 1px solid var(--border-color); border-radius: 6px; color: #fff; font-size: 0.9rem; }

        .btn-submit { width: 100%; padding: 16px; background: var(--accent-blue); color: white; border: none; border-radius: 8px; font-weight: bold; font-size: 1rem; cursor: pointer; transition: 0.3s; margin-top: 10px; }
        .btn-submit:disabled { background: var(--border-color); color: #52525b; cursor: not-allowed; }

        #loading, #success-ui { display: none; text-align: center; padding: 20px; }
        .receipt { text-align: left; border: 1px dashed var(--border-color); padding: 20px; background: #000; margin-top: 20px; font-family: monospace; font-size: 0.85rem; color: #fff; line-height: 1.4; }

        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        @media (max-width: 900px) { .main-content { grid-template-columns: 1fr; } }
   
        footer {
            background-color: var(--bg-card);
            padding: 60px 8% 20px 8%;
            border-top: 1px solid var(--border-color);
            color: var(--text-main);
        }
        .footer-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 40px; margin-bottom: 40px; }
        .footer-column h3 { font-family: 'Lexend Deca', sans-serif; color: var(--accent-blue); margin-bottom: 20px; font-size: 1.2rem; text-transform: uppercase; }
        .footer-column p, .footer-column ul { color: var(--text-dim); font-size: 0.9rem; line-height: 1.8; }
        .footer-column ul { list-style: none; padding: 0; }
        .footer-column ul li a { color: var(--text-dim); text-decoration: none; transition: color 0.3s; }
        .footer-column ul li a:hover { color: var(--accent-blue); }
        .social-links { margin-top: 15px; display: flex; gap: 12px; }
        .footer-icon {
            display: flex; justify-content: center; align-items: center;
            width: 35px; height: 35px; border-radius: 50%;
            background-color: #2563eb; color: white; text-decoration: none;
            transition: transform 0.5s ease-out, background-color 0.3s;
        }
        .footer-icon:hover { transform: rotate(360deg) scale(1.1); background-color: #1d4ed8; }
        .footer-bottom { text-align: center; padding-top: 20px; border-top: 1px solid var(--border-color); font-size: 0.8rem; color: var(--text-dim); }
    </style>
</head>
<body>

    <nav>
        <a href="index.html" class="logo">BLACKLINE <span>INTELLIGENCE</span></a>
        <div class="nav-links">
            <a href="index.html" class="lang-en">About Us</a><a href="index.html" class="lang-ms">Tentang Kami</a>
            <a href="services.html" class="lang-en">Services</a><a href="services.html" class="lang-ms">Perkhidmatan</a>
            <a href="organizational.html" class="lang-en">Organization</a><a href="organizational.html" class="lang-ms">Organisasi</a>
            <a href="gallery.html" class="lang-en">Gallery</a><a href="gallery.html" class="lang-ms">Galeri</a>
            <a href="payment.html" class="lang-en">Payment</a><a href="payment.html" class="lang-ms">Bayaran</a>
            <a href="contact.html" class="lang-en">Contact</a><a href="contact.html" class="lang-ms">Hubungi</a>
            <button class="lang-switch" onclick="toggleLanguage()">BM / EN</button>
        </div>
    </nav>

    <main>
        <div class="gateway-header">
            <h1>
                <span class="lang-en">üîç SECURE BILLING PORTAL</span>
                <span class="lang-ms">üîç PORTAL PEMBAYARAN SELAMAT</span>
            </h1>
            <p style="color: var(--text-dim)">
                <span class="lang-en">Select services according to your investigation needs</span>
                <span class="lang-ms">Pilih perkhidmatan mengikut keperluan penyiasatan anda</span>
            </p>
        </div>

        <div class="main-content">
            <div class="services-list" id="servicesArea">
                <div class="service-card" onclick="toggleService(this, 'Background Investigation', 1500, 'Siasatan Latar Belakang')">
                    <div class="checkbox-box"></div>
                    <div class="service-info">
                        <h3 class="lang-en">Background Investigation</h3><h3 class="lang-ms">Siasatan Latar Belakang</h3>
                        <p class="lang-en">Criminal, employment, and financial status verification.</p>
                        <p class="lang-ms">Pengesahan status jenayah, pekerjaan, dan kewangan.</p>
                        <div class="price-badge">RM 1,500.00</div>
                    </div>
                </div>

                <div class="service-card" onclick="toggleService(this, 'Surveillance Services', 2500, 'Perkhidmatan Pengawasan')">
                    <div class="checkbox-box"></div>
                    <div class="service-info">
                        <h3><span class="lang-en">Surveillance Services</span><span class="lang-ms">Perkhidmatan Pengawasan</span></h3>
                        <p><span class="lang-en">8-hour monitoring with photo/video evidence.</span><span class="lang-ms">Pemantauan 8 jam dengan bukti foto/video.</span></p>
                        <span class="price-badge">RM 2,500.00</span>
                    </div>
                </div>

                <div class="service-card" onclick="toggleService(this, 'Matrimonial Investigation', 3000, 'Siasatan Perkahwinan')">
                    <div class="checkbox-box"></div>
                    <div class="service-info">
                        <h3><span class="lang-en">Matrimonial Investigation</span><span class="lang-ms">Siasatan Perkahwinan</span></h3>
                        <p><span class="lang-en">Infidelity checks and lifestyle analysis.</span><span class="lang-ms">Semakan kecurangan dan analisis gaya hidup.</span></p>
                        <span class="price-badge">RM 3,000.00</span>
                    </div>
                </div>

                <div class="service-card" onclick="toggleService(this, 'Corporate Investigation', 4000, 'Siasatan Korporat')">
                    <div class="checkbox-box"></div>
                    <div class="service-info">
                        <h3><span class="lang-en">Corporate Investigation</span><span class="lang-ms">Siasatan Korporat</span></h3>
                        <p><span class="lang-en">Fraud detection and misconduct verification.</span><span class="lang-ms">Pengesanan penipuan dan salah laku.</span></p>
                        <span class="price-badge">RM 4,000.00</span>
                    </div>
                </div>

                <div class="service-card" onclick="toggleService(this, 'Cyber Investigation', 5000, 'Siasatan Siber')">
                    <div class="checkbox-box"></div>
                    <div class="service-info">
                        <h3><span class="lang-en">Cyber Investigation</span><span class="lang-ms">Siasatan Siber</span></h3>
                        <p><span class="lang-en">Digital forensics and online fraud detection.</span><span class="lang-ms">Forensik digital dan pengesanan penipuan dalam talian.</span></p>
                        <span class="price-badge">RM 5,000.00</span>
                    </div>
                </div>   

                <div class="service-card" onclick="toggleService(this, 'Asset Search', 2000, 'Carian Aset')">
                    <div class="checkbox-box"></div>
                    <div class="service-info">
                        <h3><span class="lang-en">Asset Search</span><span class="lang-ms">Carian Aset</span></h3>
                        <p><span class="lang-en">Tracking of properties and bank accounts.</span><span class="lang-ms">Menjejaki hartanah dan akaun bank.</span></p>
                        <span class="price-badge">RM 2,000.00</span>
                    </div>
                </div>
            </div>

            <div class="payment-panel">
                <div id="payment-form-ui">
                    <div class="summary-box">
                        <div class="summary-title"><span class="lang-en">Order Summary</span><span class="lang-ms">Ringkasan Pesanan</span></div>
                        <div id="cart-items">
                            <p style="font-size: 13px; color: var(--text-dim);" class="lang-en">No services selected</p>
                            <p style="font-size: 13px; color: var(--text-dim);" class="lang-ms">Tiada servis dipilih</p>
                        </div>
                        <div style="margin-top: 15px;">
                            <div class="summary-row"><span>Subtotal</span><span id="sub-total">RM 0.00</span></div>
                            <div class="summary-row"><span>SST (6%)</span><span id="tax-amount">RM 0.00</span></div>
                            <div class="summary-row total-row">
                                <span><span class="lang-en">Total Amount</span><span class="lang-ms">Jumlah Keseluruhan</span></span>
                                <span id="grand-total">RM 0.00</span>
                            </div>
                        </div>
                    </div>

                    <form id="mainForm">
                        <div class="form-group">
                            <label class="lang-en">Full Name</label><label class="lang-ms">Nama Penuh</label>
                            <input type="text" id="custName" required placeholder="As per ID">
                        </div>
                        <div class="form-group">
                            <label><span class="lang-en">Email Address</span><span class="lang-ms">Alamat Emel</span></label>
                            <input type="email" id="custEmail" required placeholder="For official receipt">
                        </div>
                        <div class="form-group">
                            <label><span class="lang-en">Payment Bank</span><span class="lang-ms">Bank Pembayaran</span></label>
                            <select id="custBank" required>
                                <option value="">---</option>
                                <option value="Maybank">Maybank2u</option>
                                <option value="CIMB">CIMB Clicks</option>
                                <option value="Bank Islam">Bank Islam</option>
                                <option value="BSN">Bank Simpanan Nasional</option>
                            </select>
                        </div>
                        <button type="button" class="btn-submit" id="submitBtn" disabled onclick="submitToGetform()">Please Select Service</button>
                    </form>
                </div>

                <div id="loading">
                    <div style="border: 3px solid #1a1a1a; border-top: 3px solid var(--accent-blue); border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; margin: 0 auto 15px;"></div>
                    <p><span class="lang-en">Processing transaction...</span><span class="lang-ms">Memproses transaksi...</span></p>
                </div>

                <div id="success-ui">
                    <h2 style="color: var(--success);"><span class="lang-en">Payment Successful</span><span class="lang-ms">Pembayaran Berjaya</span></h2>
                    <div class="receipt" id="finalReceipt"></div>
                    
                    <button class="btn-submit" onclick="generateProfessionalPDF()">
                        <i class="fas fa-file-pdf"></i> <span class="lang-en">Download PDF Receipt</span><span class="lang-ms">Muat Turun Resit PDF</span>
                    </button>
                    
                    <button class="btn-submit" style="background:var(--border-color);" onclick="location.reload()">
                        <span class="lang-en">Start New Order</span><span class="lang-ms">Pesanan Baru</span>
                    </button>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="footer-container">
            <div class="footer-column">
    <div class="logo" style="margin-bottom: 20px;">BLACKLINE <span>INTELLIGENCE</span></div>
    <p class="lang-en">Providing high-stakes intelligence and corporate risk mitigation with absolute precision and integrity.</p>
    <p class="lang-ms">Menyediakan perisikan berisiko tinggi dan pengurangan risiko korporat dengan ketepatan dan integriti mutlak.</p>
    
    <div class="social-links">
         <a href="https://www.instagram.com/blackline.intelligence?igsh=MWgyaXExb2Zlend0bw==" target="_blank" class="footer-icon instagram-icon">
            <i class="fab fa-instagram"></i>
        </a>
        <a href="https://www.tiktok.com/@blackline.intelli?_r=1&_t=ZS-92oysur1LnE" target="_blank" class="footer-icon tiktok-icon">
            <i class="fab fa-tiktok"></i>
        </a>
        <a href="https://www.facebook.com/share/1PEdy17Mew/" target="_blank" class="footer-icon facebook-icon">
            <i class="fab fa-facebook"></i>
        </a>
       
    </div>
</div>
            

            <div class="footer-column">
                <h3 class="lang-en">Quick Links</h3>
                <h3 class="lang-ms">Pautan Pantas</h3>
                <ul>
                    <li><a href="index.html" class="lang-en">About Us</a></li> <li><a href="index.html" class="lang-ms">Tentang Kami</a></li>
                    <li><a href="services.html"class="lang-en">Services </a></li> <li><a href="services.html"class="lang-ms">Perkhidmatan</a></li>
                    <li><a href="organizational.html" class="lang-en">Organization </a></li> <li><a href="organizational.html" class="lang-ms"> Organisasi</a></li>
                    <li><a href="gallery.html" class="lang-en">Gallery</a></li>  <li><a href="gallery.html" class="lang-ms"> Galeri</a></li>
                    <li><a href="payment.html" class="lang-en">Payment</a></li>  <li><a href="payment.html"class="lang-ms">Bayaran</a></li>
                    <li><a href="contact.html" class="lang-en">Contact</a></li>  <li><a href="contact.html"class="lang-ms">Hubungi</a></li>
                </ul>
            </div>

            <div class="footer-column contact-info">
                  <h3 class="lang-en">Contact Us</h3>
                <h3 class="lang-ms">Hubungi Kami</h3>
                <p>üìç Merbok, Kedah / Kuala Lumpur</p>
                <p>üìû +60 16-826 8004</p>
                <p>‚úâÔ∏è blackintelligence05@gmail.com</p>
            </div>
        </div>

        <div class="footer-bottom">
            
             ¬© 2026 Blackline Intelligence Group. 
            <span class="lang-en">All rights reserved.</span>
            <span class="lang-ms">Hak cipta terpelihara.</span>
        </div>
    </footer>

    <script>
        let selectedCart = [];
        let currentSubtotal = 0;

        function toggleLanguage() {
            document.body.classList.toggle('ms-active');
            calculatePrices();
        }

        function toggleService(element, nameEn, price, nameMs) {
            if(document.getElementById('servicesArea').classList.contains('locked')) return;

            element.classList.toggle('selected');
            const index = selectedCart.findIndex(item => item.nameEn === nameEn);
            if (index > -1) {
                selectedCart.splice(index, 1);
                currentSubtotal -= price;
            } else {
                selectedCart.push({ nameEn, nameMs, price });
                currentSubtotal += price;
            }
            calculatePrices();
        }

        function calculatePrices() {
            const tax = currentSubtotal * 0.06;
            const total = currentSubtotal + tax;
            const isMs = document.body.classList.contains('ms-active');

            document.getElementById('sub-total').innerText = `RM ${currentSubtotal.toLocaleString(undefined, {minimumFractionDigits: 2})}`;
            document.getElementById('tax-amount').innerText = `RM ${tax.toLocaleString(undefined, {minimumFractionDigits: 2})}`;
            document.getElementById('grand-total').innerText = `RM ${total.toLocaleString(undefined, {minimumFractionDigits: 2})}`;
            
            const cartDiv = document.getElementById('cart-items');
            const submitBtn = document.getElementById('submitBtn');

            if (selectedCart.length === 0) {
                cartDiv.innerHTML = `<p style="font-size: 13px; color: var(--text-dim);">${isMs ? "Tiada servis dipilih" : "No services selected"}</p>`;
                submitBtn.disabled = true;
                submitBtn.innerText = isMs ? "Sila Pilih Perkhidmatan" : "Please Select Service";
            } else {
                cartDiv.innerHTML = selectedCart.map(item => `
                    <div class="summary-row">
                        <span>${isMs ? item.nameMs : item.nameEn}</span>
                        <span>RM ${item.price.toFixed(2)}</span>
                    </div>
                `).join('');
                submitBtn.disabled = false;
                submitBtn.innerText = (isMs ? "Bayar " : "Pay ") + document.getElementById('grand-total').innerText;
            }
        }

        async function submitToGetform() {
            const name = document.getElementById('custName').value;
            const email = document.getElementById('custEmail').value;
            const bank = document.getElementById('custBank').value;
            const isMs = document.body.classList.contains('ms-active');

            if(!name || !email || !bank) return alert(isMs ? "Sila isi butiran." : "Please fill details.");

            document.getElementById('payment-form-ui').style.display = 'none';
            document.getElementById('loading').style.display = 'block';

            const formData = new FormData();
            formData.append("Customer", name);
            formData.append("Email", email);
            formData.append("Bank", bank);
            formData.append("Services", selectedCart.map(i => i.nameEn).join(', '));
            formData.append("Total", document.getElementById('grand-total').innerText);

            try {
                // ENDPOINT UPDATED TO: bvrzmoeb
                const response = await fetch("https://getform.io/f/bvrzmoeb", {
                    method: "POST",
                    body: formData,
                    headers: { "Accept": "application/json" }
                });

                if(response.ok) {
                    document.getElementById('loading').style.display = 'none';
                    document.getElementById('success-ui').style.display = 'block';
                    document.getElementById('servicesArea').classList.add('locked');
                    
                    const date = new Date().toLocaleString();
                    document.getElementById('finalReceipt').innerHTML = `
                        <strong>BLACKLINE INTELLIGENCE OFFICIAL RECEIPT</strong><br>
                        Ref: BLI-${Date.now().toString().slice(-6)}<br>
                        Date: ${date}<br>
                        ------------------------------------------<br>
                        CLIENT: ${name.toUpperCase()}<br>
                        BANK: ${bank}<br>
                        ------------------------------------------<br>
                        ${selectedCart.map(i => (isMs ? i.nameMs : i.nameEn).padEnd(25) + " RM " + i.price.toFixed(2)).join('<br>')}<br>
                        ------------------------------------------<br>
                        <strong>TOTAL PAID: ${document.getElementById('grand-total').innerText}</strong><br>
                        STATUS: COMPLETED
                    `;
                }
            } catch (e) {
                alert("Error connecting to server.");
                location.reload();
            }
        }

        async function generateProfessionalPDF() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            const isMs = document.body.classList.contains('ms-active');
            const accentBlue = [37, 99, 235];
            const logoUrl = "https://i.postimg.cc/K88PbVBs/image.png";

            try { doc.addImage(logoUrl, 'PNG', 15, 15, 18, 18); } catch(e) {}
            doc.setFont("helvetica", "bold");
            doc.setFontSize(18);
            doc.text("BLACKLINE", 38, 24);
            doc.setTextColor(accentBlue[0], accentBlue[1], accentBlue[2]);
            doc.text("INTELLIGENCE", 78, 24);

            doc.setTextColor(100, 100, 100);
            doc.setFontSize(9);
            const refId = `BLI-${Date.now().toString().slice(-6)}`;
            doc.text(`Ref: ${refId}`, 155, 20);
            doc.text(`Date: ${new Date().toLocaleDateString()}`, 155, 25);
            doc.setDrawColor(200, 200, 200);
            doc.line(15, 38, 195, 38);

            doc.setTextColor(0, 0, 0);
            doc.setFontSize(10);
            doc.text(isMs ? "PELANGGAN:" : "BILL TO:", 15, 50);
            doc.setFont("helvetica", "normal");
            doc.text(document.getElementById('custName').value.toUpperCase(), 15, 56);
            doc.text(`Bank: ${document.getElementById('custBank').value}`, 15, 62);

            doc.setFillColor(240, 240, 240);
            doc.rect(15, 75, 180, 8, 'F');
            doc.setFont("helvetica", "bold");
            doc.text(isMs ? "PERKHIDMATAN" : "SERVICE DESCRIPTION", 20, 81);
            doc.text(isMs ? "HARGA (RM)" : "PRICE (RM)", 160, 81);

            let y = 92;
            doc.setFont("helvetica", "normal");
            selectedCart.forEach(item => {
                doc.text(isMs ? item.nameMs : item.nameEn, 20, y);
                doc.text(item.price.toFixed(2), 160, y);
                y += 8;
            });

            doc.line(15, y, 195, y);
            y += 10;
            doc.text("Subtotal:", 130, y);
            doc.text(currentSubtotal.toFixed(2), 165, y);
            y += 7;
            doc.text("SST (6%):", 130, y);
            doc.text((currentSubtotal * 0.06).toFixed(2), 165, y);
            y += 10;
            doc.setFontSize(12);
            doc.setFont("helvetica", "bold");
            doc.setTextColor(accentBlue[0], accentBlue[1], accentBlue[2]);
            doc.text(isMs ? "JUMLAH BAYARAN:" : "TOTAL PAID:", 110, y);
            doc.text(document.getElementById('grand-total').innerText, 160, y);

            doc.setFontSize(8);
            doc.setFont("helvetica", "italic");
            doc.setTextColor(150, 150, 150);
            doc.text("This is an official computer-generated receipt. No signature required.", 105, 280, {align: "center"});

            doc.save(`Receipt_${refId}.pdf`);
        }
    </script>
</body>
</html>